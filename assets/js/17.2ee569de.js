(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{515:function(v,_,t){"use strict";t.r(_);var a=t(6),e=Object(a.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[v._v("记录有关浏览器的基础知识点：Storage、跨域")]),v._v(" "),t("h2",{attrs:{id:"cookie-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie-storage"}},[v._v("#")]),v._v(" Cookie Storage")]),v._v(" "),t("p",[v._v("cookie 设计时并不是用来做本地存储的，它是为了弥补http在状态上的不足。")]),v._v(" "),t("blockquote",[t("p",[v._v("http是无状态的，他不会记住用户的操作，在需要记住用户状态的场景有限制")])]),v._v(" "),t("ul",[t("li",[v._v("cookie 体积小(4kb)，只能存储少量信息。")]),v._v(" "),t("li",[v._v("向同一个域名下发送请求，都会携带相同的 Cookie。\n一般用于在请求时携带cookie，通过服务端解析，获取用户的状态。")])]),v._v(" "),t("p",[v._v("storage则是用来做本地存储的。")]),v._v(" "),t("p",[v._v("local storage 针对同一个域名，同一个域名下，会存储相同的一段 Local Storage。")]),v._v(" "),t("ul",[t("li",[v._v("体积上限有5M")]),v._v(" "),t("li",[v._v("不与服务端通讯")]),v._v(" "),t("li",[v._v("只有setItem、getItem两个结口")])]),v._v(" "),t("p",[v._v("session storage 基本和local一致")]),v._v(" "),t("ul",[t("li",[v._v("会话级别的存储。关闭tag页就会删除")])]),v._v(" "),t("h2",{attrs:{id:"跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[v._v("#")]),v._v(" 跨域")]),v._v(" "),t("p",[v._v("跨域的主要原因就是 浏览器的同源策略。指协议、域名、端口一致的情况下，才属于同源")]),v._v(" "),t("p",[v._v("多级域名和主域名一致，属于同源 如")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("https://www.baidu.com\nhttps://test.baidu.com\n")])])]),t("p",[v._v("跨域时会导致：")]),v._v(" "),t("ul",[t("li",[v._v("不能发送请求")]),v._v(" "),t("li",[v._v("无法获取DOM")]),v._v(" "),t("li",[v._v("无法读取 storage 、 cookie")])]),v._v(" "),t("p",[v._v("跨域是对浏览器的限制")]),v._v(" "),t("h2",{attrs:{id:"跨域解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跨域解决方案"}},[v._v("#")]),v._v(" 跨域解决方案")]),v._v(" "),t("ol",[t("li",[v._v("JSONP\n由于 "),t("code",[v._v("<script>")]),v._v("标签没有跨域的限制，通过创建"),t("code",[v._v("<script src='***'>")]),v._v("从其他源获取数据")])]),v._v(" "),t("p",[v._v("缺点：")]),v._v(" "),t("ul",[t("li",[v._v("仅支持get请求")]),v._v(" "),t("li",[v._v("不安全")])]),v._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[v._v("CORS\nCORS（跨域资源共享）是一种机制，它允许浏览器向跨源服务器发出请求， 并且整个 CORS 通信过程都是浏览器自动完成的。")])]),v._v(" "),t("p",[v._v("浏览器会自动进行 CORS 通信，实现 CORS 通信的关键是后端。只要后端实现了 CORS，就实现了跨域")]),v._v(" "),t("p",[v._v("服务端设置 Access-Control-Allow-Origin 就可以开启 CORS")]),v._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[v._v("postMessage\nHTML5 的 API\n它主要用于解决")])]),v._v(" "),t("ul",[t("li",[v._v("页面和其他新打开窗口间的数据传递")]),v._v(" "),t("li",[v._v("页面与iframe消息传递")]),v._v(" "),t("li",[v._v("多窗口间的消息传递")])]),v._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[v._v("websocket\nHTML5的持久化协议，长连接。\n成功建立后可实现 client 主从发出数据")])]),v._v(" "),t("li",[t("p",[v._v("请求代理\n使用 Node 中间件")])])]),v._v(" "),t("p",[v._v("同源策略只从在于浏览器，通过访问node中间层，代理到其他服务器即可实现跨域")]),v._v(" "),t("p",[v._v("Nginx反向代理")]),v._v(" "),t("p",[v._v("修改Nginx配置即可")]),v._v(" "),t("h2",{attrs:{id:"浏览器渲染过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染过程"}},[v._v("#")]),v._v(" 浏览器渲染过程")]),v._v(" "),t("ol",[t("li",[v._v("解析HTML，生成DOM树")]),v._v(" "),t("li",[v._v("解析CSS， 生成CSS树")]),v._v(" "),t("li",[v._v("两者结合， 生成渲染树")]),v._v(" "),t("li",[v._v("从根节点，计算每个元素大小、位置，给出准确坐标，得到布局渲染树")]),v._v(" "),t("li",[v._v("便利渲染树，将每个节点用UI引擎绘制。将整棵树绘制到页面上")])]),v._v(" "),t("h2",{attrs:{id:"回流-重绘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#回流-重绘"}},[v._v("#")]),v._v(" 回流 重绘")]),v._v(" "),t("p",[v._v("回流，又叫重排。当元素的尺寸，结构发生改变，影响布局，浏览器会重新渲染页面")]),v._v(" "),t("p",[v._v("触发操作：")]),v._v(" "),t("ul",[t("li",[v._v("添加删除DOM元素")]),v._v(" "),t("li",[v._v("改变边框、边距、宽高等")]),v._v(" "),t("li",[v._v("改变窗口(resize)\n...")])]),v._v(" "),t("p",[v._v("重绘。当元素的样式发生改变，不影响布局，浏览器只需要对元素进行更新。\n触发操作：")]),v._v(" "),t("ul",[t("li",[v._v("改变颜色")]),v._v(" "),t("li",[v._v("背景图\n...")])]),v._v(" "),t("p",[v._v("回流必发生重绘！")]),v._v(" "),t("p",[v._v("使用transition 修改 top left 等不会触发回流")])])}),[],!1,null,null,null);_.default=e.exports}}]);